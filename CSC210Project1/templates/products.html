<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>All Products</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h1>All Products</h1>
    <ul>
        {% for product in products %}
            <li>
                <strong>{{ product.name }}</strong><br>
                Description: {{ product.description }}<br>
                Price: ${{ product.price }}<br>
                <a href="{{ url_for('product_detail', product_id=product.id) }}">View Details</a>
                <!-- This is a print test for debug purpose, please disregard:
                Product added by user ID: {{ product.user.id }}<br>
                Current logged-in user ID: {{ user_id }}<br>-->
                Added by: {{ product.user.username }}
                {% if product.user_id == user_id %}
                    <a href="{{ url_for('delete_product', product_id=product.id) }}">Delete</a>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
    <ul>
        <li><a href="{{ url_for('add_product') }}">Add a New Product</a></li>
        <li><a href="{{ url_for('login') }}">Back to Login</a></li>
        <li><a href="{{ url_for('users') }}">List all users email</a></li>
    </ul>
    
</body>
</html>
